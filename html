<div style='display:flex;'>
    <textarea style='width:50%;min-height:300px;' id='textarea-input' placeholder='Paste your code here'></textarea>
    <div      style='width:50%;min-height:300px;' id='pre-output'></div>
</div>

<script type='module'>

import { Tokenizer, PushbackReader } from '/resources/lib/js/libtokenizer.js';

document.getElementById( "textarea-input" ).oninput
=
function( event )
{
    var textarea  = event.target;
    var reader    = new PushbackReader( textarea.value );
    var tokenizer = new Tokenizer( reader );
    var output    = document.getElementById( "pre-output" );
        output.innerHTML = "";

    while ( tokenizer.hasMoreTokens() )
    {
        var token = tokenizer.nextToken();

        if ( "" != token.trim() )
        {
            var span = document.createElement( "SPAN" );
                span.innerHTML = token;

            output.appendChild( span );
        }
    }

    return false;
}

</script>

<script>

function XXX()
{
    var src = document.getElementById( "script-source" );
    var pre = document.getElementById(    "pre-source" );
    var htm = src.innerHTML;
        htm = htm.replace( /{{/g, "&lt;" );
        htm = htm.replace( /}}/g, "&gt;" );

    pre.innerHTML = htm;

}

</script>

